(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0368fc10"],{"0e3f":function(t,e,a){"use strict";var o=a("3355"),n=a.n(o);n.a},"0fd7":function(t,e,a){"use strict";var o=a("936d"),n=a.n(o);n.a},3355:function(t,e,a){},"5cbe":function(t,e,a){t.exports=a.p+"img/recommend_bg.794b6628.jpg"},"8ebe":function(t,e,a){},"936d":function(t,e,a){},ac32:function(t,e,a){},b3d7:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("nav-bar",{staticClass:"home-nav"},[a("div",{attrs:{slot:"center"},slot:"center"},[t._v("购物街")])]),a("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.showTabControl,expression:"showTabControl"}],ref:"tabControl1",staticClass:"tab-control",attrs:{tabControlItem:t.tabControlItem},on:{tabClick:t.tabClick}}),a("scroll",{ref:"scroll",staticClass:"wrapper",attrs:{probeType:2,pullUpLoad:!0},on:{scroll:t.contentScroll,pullingUp:t.loadMore}},[a("home-swiper",{attrs:{banners:t.banners},on:{imageLoaded:t.imageLoaded}}),a("recommend-view",{attrs:{recommends:t.recommends}}),a("feature-view"),a("tab-control",{directives:[{name:"show",rawName:"v-show",value:!t.showTabControl,expression:"!showTabControl"}],ref:"tabControl2",attrs:{tabControlItem:t.tabControlItem},on:{tabClick:t.tabClick}}),a("goods-list",{attrs:{goods:t.goods[t.currentType].list}})],1),a("back-top",{directives:[{name:"show",rawName:"v-show",value:t.showBackTop,expression:"showBackTop"}],nativeOn:{click:function(e){return t.backClick(e)}}})],1)},n=[],r=a("6b75");function s(t){if(Array.isArray(t))return Object(r["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=a("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return s(t)||i(t)||Object(c["a"])(t)||l()}var d=a("a7ac"),m=a("1bab");function f(){return Object(m["a"])({url:"home/multidata"})}function b(t,e){return Object(m["a"])({url:"home/data",params:{type:t,page:e}})}var p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("swiper",t._l(t.banners,(function(e,o){return a("swiper-item",{key:o},[a("a",{attrs:{href:e.link}},[a("img",{attrs:{src:e.image},on:{load:t.imageLoaded}})])])})),1)},h=[],v=a("dc2c"),w={name:"HomeSwiper",components:{Swiper:v["a"],SwiperItem:v["b"]},props:{banners:{type:Array,default:[]}},methods:{imageLoaded:function(){this.$emit("imageLoaded")}}},g=w,C=a("2877"),y=Object(C["a"])(g,p,h,!1,null,null,null),k=y.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommend-view"},t._l(t.recommends,(function(e,o){return a("div",{key:o,staticClass:"recommend-item"},[a("a",{attrs:{href:e.link}},[a("img",{attrs:{src:e.image}}),a("div",[t._v(t._s(e.title)+" ")])])])})),0)},_=[],I={name:"RecommendView",props:{recommends:{type:Array,default:[]}}},$=I,x=(a("0e3f"),Object(C["a"])($,T,_,!1,null,"64842a44",null)),O=x.exports,j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"feature"},[o("a",{attrs:{href:"https://act.mogujie.com/zzlx67"}},[o("img",{attrs:{src:a("5cbe"),alt:""}})])])}],S={name:"FeatureView"},E=S,A=(a("da83"),Object(C["a"])(E,j,L,!1,null,"74ce088a",null)),B=A.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-control"},t._l(t.tabControlItem,(function(e,o){return a("div",{key:o,staticClass:"tab-control-item",class:{active:t.currentIndex==o},on:{click:function(e){return t.itemClick(o)}}},[a("span",[t._v(t._s(e))])])})),0)},H=[],P={name:"TabControl",data:function(){return{currentIndex:0}},props:{tabControlItem:{type:Array,default:[]}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}},M=P,N=(a("ed1d"),Object(C["a"])(M,D,H,!1,null,"bf560d66",null)),V=N.exports,Y=a("6d71"),z=a("5d17"),F=a("fdd6"),J=(a("90b9"),a("eecb")),R={name:"Home",components:{NavBar:d["a"],HomeSwiper:k,RecommendView:O,FeatureView:B,TabControl:V,GoodsList:Y["a"],Scroll:z["a"],BackTop:F["a"]},data:function(){return{banners:[],recommends:[],tabControlItem:["流行","新款","精选"],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentType:"pop",tabOffsetTop:0,showTabControl:!1,saveY:0}},created:function(){this.getHomeMultidata(),this.getProductData("pop"),this.getProductData("new"),this.getProductData("sell")},activated:function(){this.$refs.scroll.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},deactivated:function(){this.saveY=this.$refs.scroll.scroll.y,this.$bus.$off("itemImageLoad",this.itemImageListener)},mixins:[J["b"],J["a"]],computed:{},methods:{imageLoaded:function(){this.tabOffsetTop=this.$refs.tabControl2.$el.offsetTop,console.log(this.tabOffsetTop)},tabClick:function(t){switch(t){case 0:this.currentType="pop";break;case 1:this.currentType="new";break;case 2:this.currentType="sell";break}this.$refs.tabControl1.currentIndex=t,this.$refs.tabControl2.currentIndex=t},contentScroll:function(t){-t.y>1e3&&(this.showBackTop=!0),-t.y>this.tabOffsetTop&&(this.showTabControl=!0),-t.y<=this.tabOffsetTop&&(this.showTabControl=!1)},loadMore:function(){console.log("home"),this.getProductData(this.currentType)},getHomeMultidata:function(){var t=this;f().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getProductData:function(t){var e=this,a=this.goods[t].page+1;b(t,a).then((function(a){var o,n=a.data.list;(o=e.goods[t].list).push.apply(o,u(n)),e.goods[t].page++}))}}},U=R,G=(a("0fd7"),Object(C["a"])(U,o,n,!1,null,"7a1ffdcc",null));e["default"]=G.exports},da83:function(t,e,a){"use strict";var o=a("8ebe"),n=a.n(o);n.a},ed1d:function(t,e,a){"use strict";var o=a("ac32"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-0368fc10.ea08d151.js.map